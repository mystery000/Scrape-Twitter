<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Scraped Tweets</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia" />
    <link href="https://fonts.cdnfonts.com/css/aquire" rel="stylesheet" />
  </head>
  <body>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <div class="container">
      <div class="float-start">
        <h1 style="font-family: 'Aquire', sans-serif">Annotate</h1>
      </div>
      <div class="float-end">
        <a href="/profile">
          <img src="../static/image/profile.png" height="55px" width="50px" alt="profile" />
        </a>
      </div>
      <form
        method="POST"
        action="/annotate/upload"
        enctype="multipart/form-data"
      >
        <div class="input-group" style="margin-bottom: 20px">
          <input type="file" class="form-control" name="upload_file" />
          <button class="btn btn-dark" type="submit">Upload</button>
        </div>
      </form>
      <div class="form-upload-error" style="text-align: center; margin-bottom: 10px;"></div>
      <div class="table-responsive" style="clear: both">
        <!-- {{ output }} -->
        <table class="table table-bordered border-success table-hover">
          {%if tweets %}
            <thead>
              {% for item in tweets.keys() %}
                <th>{{ item }}</th>
              {% endfor %}
            </thead>
            <tbody>
            {% for id in tweets['ID'] %}
              <tr style="border-bottom: 1px solid green">
                {% for item in tweets.keys() %}
                  <td>{{tweets[item][id]}}</td>
                {% endfor %}
              </tr>
            {% endfor %}
            </tbody>
          {% else %}
            <tr>
              <td style="text-align: center;" class="table-upload-error">
                {% if error %}
                  <span style="color: red">{{ error }}</span>
                {% else %}
                  <span style="color: red">No Data. Try again!</span>
                {% endif %}
              </td>
            </tr>
          {% endif %}
        </table>
      </div>
    </div>
  </body>
</html>
<script src="/static/js/jquery.js"></script>
<script>
  $('.form-control').change(() => {
    $('.table-upload-error').html("<span style='color: green'>Please upload this file</span>");
    if($('.table-upload-error').length == 0) {
      $('.form-upload-error').html("<span style='color: green;'>Please upload this file</span>");
    }
  });
</script>